---
sidebar_position: 1
title: "@canvas-js/hooks"
---

[![npm](https://img.shields.io/npm/v/@canvas-js/hooks?color=33cd56&logo=npm)](https://www.npmjs.com/package/@canvas-js/hooks) [![npm](https://img.shields.io/github/last-commit/canvasxyz/canvas?color=33cd56&logo=github)](https://github.com/canvasxyz/canvas/tree/main/packages/hooks)

This package includes React hooks for using Canvas in your frontend
application.

To use the Canvas hooks, you must first wrap your application in a
parent `Canvas` provider, which initializes state and sets an internal
React context for the hooks to use. The only thing you have to pass
the `Canvas` element is a `host: string` URL of a canvas app's HTTP
API server.

```tsx
import { Canvas, useRoute, useCanvas } from '@canvas-js/hooks';

<Canvas host="http://localhost:8000">
	<MyApp />
</Canvas>
```

Then, in any component inside your app, you can use the two hooks:
`useCanvas` and `useRoute`.

- `useCanvas` returns an object with configuration data about the
connected Canvas app and the currently-authenticated user.
- `useRoute` takes a string route and an object of params, and works
  like the `useSWR` hook, returning an error or an array of
  results. Internally, it uses the [EventSource
  API](https://developer.mozilla.org/en-US/docs/Web/API/EventSource).

```
const {
  error,
  loading,
  address,           // Contains the user's wallet address.
  session,           // Contains the temporary session address generated by Canvas.
  connect,           // Connects the user's wallet, so they can request a session.
  connectNewSession, // Requests a new session from the user.
  disconnect,        // Clears any active sesion in the browser.
  dispatch,          // Sends an action, following the syntax `dispatch("action", ...args)`
} = useCanvas()

const { data, error } = useRoute("/posts")
```

Here, `data` will be null if the core has not initialized, or will
be an array of objects returned by the route that it queried otherwise.

See the `examples` directory for a few applications using these hooks.
